"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/assets";
exports.ids = ["pages/api/assets"];
exports.modules = {

/***/ "axios":
/*!************************!*\
  !*** external "axios" ***!
  \************************/
/***/ ((module) => {

module.exports = require("axios");

/***/ }),

/***/ "form-data":
/*!****************************!*\
  !*** external "form-data" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("form-data");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fassets&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cassets.js&middlewareConfigBase64=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fassets&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cassets.js&middlewareConfigBase64=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_assets_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\assets.js */ \"(api)/./pages/api/assets.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_assets_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_assets_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/assets\",\n        pathname: \"/api/assets\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_assets_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmFzc2V0cyZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTVDYXBpJTVDYXNzZXRzLmpzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQ29EO0FBQ3BEO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyxpREFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsaURBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJpc21pYy1yZXBvLWNsb25lci8/MTBmNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXNcXFxcYXBpXFxcXGFzc2V0cy5qc1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2Fzc2V0c1wiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2Fzc2V0c1wiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fassets&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cassets.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/assets.js":
/*!***********************!*\
  !*** ./lib/assets.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   downloadAsset: () => (/* binding */ downloadAsset),\n/* harmony export */   getToken: () => (/* binding */ getToken),\n/* harmony export */   uploadAsset: () => (/* binding */ uploadAsset)\n/* harmony export */ });\nconst fs = __webpack_require__(/*! fs */ \"fs\");\nconst path = __webpack_require__(/*! path */ \"path\");\nconst https = __webpack_require__(/*! https */ \"https\");\nconst axios = __webpack_require__(/*! axios */ \"axios\");\nconst FormData = __webpack_require__(/*! form-data */ \"form-data\");\n// The path of the directory to save the image\nconst dirPath = \"./images\";\nconst downloadAsset = async (imageUrl, imageId, imageName)=>{\n    return new Promise((resolve, reject)=>{\n        //create folder with image id to avoid files with same name\n        const folderName = `${dirPath}/${imageId}`;\n        try {\n            if (!fs.existsSync(folderName)) {\n                fs.mkdirSync(folderName);\n            }\n        } catch (err) {\n            console.error(err);\n        }\n        const file = fs.createWriteStream(path.join(folderName, imageName));\n        https.get(imageUrl, async (response)=>{\n            response.pipe(file);\n            file.on(\"finish\", ()=>{\n                file.close();\n                console.log(`Image downloaded as ${imageName}`);\n                resolve({\n                    msg: `Image downloaded as ${imageName}`\n                });\n            });\n        }).on(\"error\", (err)=>{\n            fs.unlink(imageName);\n            console.error(`Error downloading image: ${err.message}`);\n            reject({\n                err: `Error downloading image: ${err.message}`\n            });\n        });\n    });\n};\nconst uploadAsset = async (fileId, filename, token, assets, newAssets, i)=>{\n    return new Promise((resolve, reject)=>{\n        let data = new FormData();\n        data.append(\"file\", fs.createReadStream(`${process.env.Project_Path}/images/${fileId}/${filename}`));\n        let config = {\n            method: \"post\",\n            maxBodyLength: Infinity,\n            url: \"https://asset-api.prismic.io/assets\",\n            headers: {\n                repository: process.env.Destination_Repo,\n                Authorization: `Bearer ${token}`,\n                ...data.getHeaders()\n            },\n            data: data\n        };\n        axios.request(config).then((response)=>{\n            console.log(JSON.stringify(response.data));\n            newAssets.push({\n                ...response.data,\n                prevID: assets.items[i].id\n            });\n            resolve({\n                msg: JSON.stringify(response.data)\n            });\n        }).catch((error)=>{\n            console.log(error);\n            reject({\n                err: error\n            });\n        });\n    });\n};\nconst getToken = async ()=>{\n    // Get an auth token\n    const authResponse = await fetch(\"https://auth.prismic.io/login\", {\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        method: \"POST\",\n        body: JSON.stringify({\n            email: process.env.Repo_Login_Email,\n            password: process.env.Repo_Login_Password\n        })\n    });\n    const token = await authResponse.text();\n    return token;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SSxLQUFLRTtZQUFNO1FBQ3RCO0lBQ0o7QUFDRixFQUFFO0FBRUssTUFBTTZDLFdBQVc7SUFDdEIsb0JBQW9CO0lBQ3BCLE1BQU1DLGVBQWUsTUFBTUMsTUFBTSxpQ0FBaUM7UUFDaEVoQixTQUFTO1lBQ1AsZ0JBQWdCO1FBQ2xCO1FBQ0FKLFFBQVE7UUFDUnFCLE1BQU1WLEtBQUtDLFNBQVMsQ0FBQztZQUNuQlUsT0FBTzFCLFFBQVFDLEdBQUcsQ0FBQzBCLGdCQUFnQjtZQUNuQ0MsVUFBVTVCLFFBQVFDLEdBQUcsQ0FBQzRCLG1CQUFtQjtRQUMzQztJQUNGO0lBRUEsTUFBTXBDLFFBQVEsTUFBTThCLGFBQWFPLElBQUk7SUFDckMsT0FBT3JDO0FBQ1QsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL3ByaXNtaWMtcmVwby1jbG9uZXIvLi9saWIvYXNzZXRzLmpzP2ViZGMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZnMgPSByZXF1aXJlKFwiZnNcIik7XHJcbmNvbnN0IHBhdGggPSByZXF1aXJlKFwicGF0aFwiKTtcclxuY29uc3QgaHR0cHMgPSByZXF1aXJlKFwiaHR0cHNcIik7XHJcbmNvbnN0IGF4aW9zID0gcmVxdWlyZShcImF4aW9zXCIpO1xyXG5jb25zdCBGb3JtRGF0YSA9IHJlcXVpcmUoXCJmb3JtLWRhdGFcIik7XHJcblxyXG4vLyBUaGUgcGF0aCBvZiB0aGUgZGlyZWN0b3J5IHRvIHNhdmUgdGhlIGltYWdlXHJcbmNvbnN0IGRpclBhdGggPSBcIi4vaW1hZ2VzXCI7XHJcblxyXG5leHBvcnQgY29uc3QgZG93bmxvYWRBc3NldCA9IGFzeW5jIChpbWFnZVVybCwgaW1hZ2VJZCwgaW1hZ2VOYW1lKSA9PiB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgIC8vY3JlYXRlIGZvbGRlciB3aXRoIGltYWdlIGlkIHRvIGF2b2lkIGZpbGVzIHdpdGggc2FtZSBuYW1lXHJcbiAgICBjb25zdCBmb2xkZXJOYW1lID0gYCR7ZGlyUGF0aH0vJHtpbWFnZUlkfWA7XHJcbiAgICB0cnkge1xyXG4gICAgICBpZiAoIWZzLmV4aXN0c1N5bmMoZm9sZGVyTmFtZSkpIHtcclxuICAgICAgICBmcy5ta2RpclN5bmMoZm9sZGVyTmFtZSk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZmlsZSA9IGZzLmNyZWF0ZVdyaXRlU3RyZWFtKHBhdGguam9pbihmb2xkZXJOYW1lLCBpbWFnZU5hbWUpKTtcclxuICAgIGh0dHBzXHJcbiAgICAgIC5nZXQoaW1hZ2VVcmwsIGFzeW5jIChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgIHJlc3BvbnNlLnBpcGUoZmlsZSk7XHJcblxyXG4gICAgICAgIGZpbGUub24oXCJmaW5pc2hcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgZmlsZS5jbG9zZSgpO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coYEltYWdlIGRvd25sb2FkZWQgYXMgJHtpbWFnZU5hbWV9YCk7XHJcbiAgICAgICAgICByZXNvbHZlKHsgbXNnOiBgSW1hZ2UgZG93bmxvYWRlZCBhcyAke2ltYWdlTmFtZX1gIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KVxyXG4gICAgICAub24oXCJlcnJvclwiLCAoZXJyKSA9PiB7XHJcbiAgICAgICAgZnMudW5saW5rKGltYWdlTmFtZSk7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgZG93bmxvYWRpbmcgaW1hZ2U6ICR7ZXJyLm1lc3NhZ2V9YCk7XHJcbiAgICAgICAgcmVqZWN0KHsgZXJyOiBgRXJyb3IgZG93bmxvYWRpbmcgaW1hZ2U6ICR7ZXJyLm1lc3NhZ2V9YCB9KTtcclxuICAgICAgfSk7XHJcbiAgfSk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgdXBsb2FkQXNzZXQgPSBhc3luYyAoXHJcbiAgZmlsZUlkLFxyXG4gIGZpbGVuYW1lLFxyXG4gIHRva2VuLFxyXG4gIGFzc2V0cyxcclxuICBuZXdBc3NldHMsXHJcbiAgaVxyXG4pID0+IHtcclxuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgbGV0IGRhdGEgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgIGRhdGEuYXBwZW5kKFxyXG4gICAgICBcImZpbGVcIixcclxuICAgICAgZnMuY3JlYXRlUmVhZFN0cmVhbShcclxuICAgICAgICBgJHtwcm9jZXNzLmVudi5Qcm9qZWN0X1BhdGh9L2ltYWdlcy8ke2ZpbGVJZH0vJHtmaWxlbmFtZX1gXHJcbiAgICAgIClcclxuICAgICk7XHJcblxyXG4gICAgbGV0IGNvbmZpZyA9IHtcclxuICAgICAgbWV0aG9kOiBcInBvc3RcIixcclxuICAgICAgbWF4Qm9keUxlbmd0aDogSW5maW5pdHksXHJcbiAgICAgIHVybDogXCJodHRwczovL2Fzc2V0LWFwaS5wcmlzbWljLmlvL2Fzc2V0c1wiLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgcmVwb3NpdG9yeTogcHJvY2Vzcy5lbnYuRGVzdGluYXRpb25fUmVwbyxcclxuICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dG9rZW59YCxcclxuICAgICAgICAuLi5kYXRhLmdldEhlYWRlcnMoKSxcclxuICAgICAgfSxcclxuICAgICAgZGF0YTogZGF0YSxcclxuICAgIH07XHJcblxyXG4gICAgYXhpb3NcclxuICAgICAgLnJlcXVlc3QoY29uZmlnKVxyXG4gICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShyZXNwb25zZS5kYXRhKSk7XHJcbiAgICAgICAgbmV3QXNzZXRzLnB1c2goeyAuLi5yZXNwb25zZS5kYXRhLCBwcmV2SUQ6IGFzc2V0cy5pdGVtc1tpXS5pZCB9KTtcclxuICAgICAgICByZXNvbHZlKHsgbXNnOiBKU09OLnN0cmluZ2lmeShyZXNwb25zZS5kYXRhKSB9KTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICByZWplY3QoeyBlcnI6IGVycm9yIH0pO1xyXG4gICAgICB9KTtcclxuICB9KTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRUb2tlbiA9IGFzeW5jICgpID0+IHtcclxuICAvLyBHZXQgYW4gYXV0aCB0b2tlblxyXG4gIGNvbnN0IGF1dGhSZXNwb25zZSA9IGF3YWl0IGZldGNoKFwiaHR0cHM6Ly9hdXRoLnByaXNtaWMuaW8vbG9naW5cIiwge1xyXG4gICAgaGVhZGVyczoge1xyXG4gICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgIH0sXHJcbiAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICBlbWFpbDogcHJvY2Vzcy5lbnYuUmVwb19Mb2dpbl9FbWFpbCxcclxuICAgICAgcGFzc3dvcmQ6IHByb2Nlc3MuZW52LlJlcG9fTG9naW5fUGFzc3dvcmQsXHJcbiAgICB9KSxcclxuICB9KTtcclxuXHJcbiAgY29uc3QgdG9rZW4gPSBhd2FpdCBhdXRoUmVzcG9uc2UudGV4dCgpO1xyXG4gIHJldHVybiB0b2tlbjtcclxufTtcclxuIl0sIm5hbWVzIjpbImZzIiwicmVxdWlyZSIsInBhdGgiLCJodHRwcyIsImF4aW9zIiwiRm9ybURhdGEiLCJkaXJQYXRoIiwiZG93bmxvYWRBc3NldCIsImltYWdlVXJsIiwiaW1hZ2VJZCIsImltYWdlTmFtZSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZm9sZGVyTmFtZSIsImV4aXN0c1N5bmMiLCJta2RpclN5bmMiLCJlcnIiLCJjb25zb2xlIiwiZXJyb3IiLCJmaWxlIiwiY3JlYXRlV3JpdGVTdHJlYW0iLCJqb2luIiwiZ2V0IiwicmVzcG9uc2UiLCJwaXBlIiwib24iLCJjbG9zZSIsImxvZyIsIm1zZyIsInVubGluayIsIm1lc3NhZ2UiLCJ1cGxvYWRBc3NldCIsImZpbGVJZCIsImZpbGVuYW1lIiwidG9rZW4iLCJhc3NldHMiLCJuZXdBc3NldHMiLCJpIiwiZGF0YSIsImFwcGVuZCIsImNyZWF0ZVJlYWRTdHJlYW0iLCJwcm9jZXNzIiwiZW52IiwiUHJvamVjdF9QYXRoIiwiY29uZmlnIiwibWV0aG9kIiwibWF4Qm9keUxlbmd0aCIsIkluZmluaXR5IiwidXJsIiwiaGVhZGVycyIsInJlcG9zaXRvcnkiLCJEZXN0aW5hdGlvbl9SZXBvIiwiQXV0aG9yaXphdGlvbiIsImdldEhlYWRlcnMiLCJyZXF1ZXN0IiwidGhlbiIsIkpTT04iLCJzdHJpbmdpZnkiLCJwdXNoIiwicHJldklEIiwiaXRlbXMiLCJpZCIsImNhdGNoIiwiZ2V0VG9rZW4iLCJhdXRoUmVzcG9uc2UiLCJmZXRjaCIsImJvZHkiLCJlbWFpbCIsIlJlcG9fTG9naW5fRW1haWwiLCJwYXNzd29yZCIsIlJlcG9fTG9naW5fUGFzc3dvcmQiLCJ0ZXh0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/assets.js\n");

/***/ }),

/***/ "(api)/./pages/api/assets.js":
/*!*****************************!*\
  !*** ./pages/api/assets.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_assets__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/assets */ \"(api)/./lib/assets.js\");\n\nfunction delay(time) {\n    return new Promise((resolve)=>setTimeout(resolve, time));\n}\nasync function handler(req, res) {\n    switch(req.method){\n        case \"GET\":\n            try {\n                const token = await (0,_lib_assets__WEBPACK_IMPORTED_MODULE_0__.getToken)();\n                //Get all assets\n                const myHeaders = new Headers();\n                myHeaders.append(\"repository\", process.env.Source_Repo);\n                myHeaders.append(\"Authorization\", `Bearer ${token}`);\n                const requestOptions = {\n                    method: \"GET\",\n                    headers: myHeaders,\n                    redirect: \"follow\"\n                };\n                const ans = await fetch(\"https://asset-api.prismic.io/assets?limit=1000\", requestOptions);\n                const assets = await ans.text();\n                return res.status(200).json({\n                    assets\n                });\n            } catch (err) {\n                console.log(err);\n                return res.status(400).json({\n                    reason: \"server error\",\n                    err\n                });\n            }\n        //Download assets\n        case \"POST\":\n            try {\n                const { assets } = req.body;\n                for(let i = 0; i < assets.items.length; i++){\n                    if (!assets.items[i]?.url) {\n                        console.log(assets.items[i]);\n                        continue;\n                    }\n                    await (0,_lib_assets__WEBPACK_IMPORTED_MODULE_0__.downloadAsset)(assets.items[i].url, assets.items[i].id, assets.items[i].filename);\n                }\n                return res.status(200).json({\n                    reason: \"done\"\n                });\n            } catch (err) {\n                console.log(err);\n                return res.status(400).json({\n                    reason: \"server error\",\n                    err\n                });\n            }\n        case \"PUT\":\n            const { assets } = req.body;\n            const newAssets = [];\n            const token = await (0,_lib_assets__WEBPACK_IMPORTED_MODULE_0__.getToken)();\n            try {\n                for(let i = 0; i < assets.items.length; i++){\n                    await (0,_lib_assets__WEBPACK_IMPORTED_MODULE_0__.uploadAsset)(assets.items[i].id, assets.items[i].filename, token, assets, newAssets, i);\n                    //   let data = new FormData();\n                    //   data.append(\n                    //     \"file\",\n                    //     fs.createReadStream(\n                    //       `${process.env.Project_Path}/images/${assets.items[i].id}_${assets.items[i].filename}`\n                    //     )\n                    //   );\n                    //   let config = {\n                    //     method: \"post\",\n                    //     maxBodyLength: Infinity,\n                    //     url: \"https://asset-api.prismic.io/assets\",\n                    //     headers: {\n                    //       repository: process.env.Destination_Repo,\n                    //       Authorization: `Bearer ${token}`,\n                    //       ...data.getHeaders(),\n                    //     },\n                    //     data: data,\n                    //   };\n                    //   await axios\n                    //     .request(config)\n                    //     .then((response) => {\n                    //       console.log(JSON.stringify(response.data));\n                    //       newAssets.push({ ...response.data, prevID: assets.items[i].id });\n                    //     })\n                    //     .catch((error) => {\n                    //       console.log(error);\n                    //     });\n                    //wait 1s\n                    await delay(1500);\n                }\n                return res.status(200).json({\n                    newAssets\n                });\n            } catch (err) {\n                console.log(err);\n                return res.status(400).json({\n                    reason: \"server error\",\n                    err\n                });\n            }\n        default:\n            return res.status(500).json({\n                reason: \"Not allowed\"\n            });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q2xELDBDQUEwQztvQkFDMUMsOEJBQThCO29CQUM5QixTQUFTO29CQUNULGtCQUFrQjtvQkFDbEIsT0FBTztvQkFFUCxnQkFBZ0I7b0JBQ2hCLHVCQUF1QjtvQkFDdkIsNEJBQTRCO29CQUM1QixvREFBb0Q7b0JBQ3BELDBFQUEwRTtvQkFDMUUsU0FBUztvQkFDVCwwQkFBMEI7b0JBQzFCLDRCQUE0QjtvQkFDNUIsVUFBVTtvQkFFVixTQUFTO29CQUNWLE1BQU05QixNQUFNO2dCQUNiO2dCQUVBLE9BQU9PLElBQUlnQixNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO29CQUFFWTtnQkFBVTtZQUMxQyxFQUFFLE9BQU9YLEtBQUs7Z0JBQ1pDLFFBQVFDLEdBQUcsQ0FBQ0Y7Z0JBQ1osT0FBT2xCLElBQUlnQixNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO29CQUFFSSxRQUFRO29CQUFnQkg7Z0JBQUk7WUFDNUQ7UUFDRjtZQUNFLE9BQU9sQixJQUFJZ0IsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztnQkFBRUksUUFBUTtZQUFjO0lBQ3hEO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcmlzbWljLXJlcG8tY2xvbmVyLy4vcGFnZXMvYXBpL2Fzc2V0cy5qcz9iYWNhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRvd25sb2FkQXNzZXQsIHVwbG9hZEFzc2V0LCBnZXRUb2tlbiB9IGZyb20gXCJAL2xpYi9hc3NldHNcIjtcclxuXHJcbmZ1bmN0aW9uIGRlbGF5KHRpbWUpIHtcclxuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgdGltZSkpO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzKSB7XHJcbiAgc3dpdGNoIChyZXEubWV0aG9kKSB7XHJcbiAgICBjYXNlIFwiR0VUXCI6XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgdG9rZW4gPSBhd2FpdCBnZXRUb2tlbigpO1xyXG4gICAgICAgIC8vR2V0IGFsbCBhc3NldHNcclxuICAgICAgICBjb25zdCBteUhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xyXG4gICAgICAgIG15SGVhZGVycy5hcHBlbmQoXCJyZXBvc2l0b3J5XCIsIHByb2Nlc3MuZW52LlNvdXJjZV9SZXBvKTtcclxuICAgICAgICBteUhlYWRlcnMuYXBwZW5kKFwiQXV0aG9yaXphdGlvblwiLCBgQmVhcmVyICR7dG9rZW59YCk7XHJcblxyXG4gICAgICAgIGNvbnN0IHJlcXVlc3RPcHRpb25zID0ge1xyXG4gICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgICAgICAgaGVhZGVyczogbXlIZWFkZXJzLFxyXG4gICAgICAgICAgcmVkaXJlY3Q6IFwiZm9sbG93XCIsXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgY29uc3QgYW5zID0gYXdhaXQgZmV0Y2goXHJcbiAgICAgICAgICBcImh0dHBzOi8vYXNzZXQtYXBpLnByaXNtaWMuaW8vYXNzZXRzP2xpbWl0PTEwMDBcIixcclxuICAgICAgICAgIHJlcXVlc3RPcHRpb25zXHJcbiAgICAgICAgKTtcclxuICAgICAgICBjb25zdCBhc3NldHMgPSBhd2FpdCBhbnMudGV4dCgpO1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IGFzc2V0cyB9KTtcclxuICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyByZWFzb246IFwic2VydmVyIGVycm9yXCIsIGVyciB9KTtcclxuICAgICAgfVxyXG4gICAgLy9Eb3dubG9hZCBhc3NldHNcclxuICAgIGNhc2UgXCJQT1NUXCI6XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgeyBhc3NldHMgfSA9IHJlcS5ib2R5O1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFzc2V0cy5pdGVtcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgaWYgKCFhc3NldHMuaXRlbXNbaV0/LnVybCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhhc3NldHMuaXRlbXNbaV0pO1xyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGF3YWl0IGRvd25sb2FkQXNzZXQoXHJcbiAgICAgICAgICAgIGFzc2V0cy5pdGVtc1tpXS51cmwsXHJcbiAgICAgICAgICAgIGFzc2V0cy5pdGVtc1tpXS5pZCxcclxuICAgICAgICAgICAgYXNzZXRzLml0ZW1zW2ldLmZpbGVuYW1lXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyByZWFzb246IFwiZG9uZVwiIH0pO1xyXG4gICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IHJlYXNvbjogXCJzZXJ2ZXIgZXJyb3JcIiwgZXJyIH0pO1xyXG4gICAgICB9XHJcbiAgICBjYXNlIFwiUFVUXCI6XHJcbiAgICAgIGNvbnN0IHsgYXNzZXRzIH0gPSByZXEuYm9keTtcclxuICAgICAgY29uc3QgbmV3QXNzZXRzID0gW107XHJcbiAgICAgIGNvbnN0IHRva2VuID0gYXdhaXQgZ2V0VG9rZW4oKTtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFzc2V0cy5pdGVtcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgYXdhaXQgdXBsb2FkQXNzZXQoXHJcbiAgICAgICAgICAgIGFzc2V0cy5pdGVtc1tpXS5pZCxcclxuICAgICAgICAgICAgYXNzZXRzLml0ZW1zW2ldLmZpbGVuYW1lLFxyXG4gICAgICAgICAgICB0b2tlbixcclxuICAgICAgICAgICAgYXNzZXRzLFxyXG4gICAgICAgICAgICBuZXdBc3NldHMsXHJcbiAgICAgICAgICAgIGlcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICAvLyAgIGxldCBkYXRhID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICAgICAgICAvLyAgIGRhdGEuYXBwZW5kKFxyXG4gICAgICAgICAgLy8gICAgIFwiZmlsZVwiLFxyXG4gICAgICAgICAgLy8gICAgIGZzLmNyZWF0ZVJlYWRTdHJlYW0oXHJcbiAgICAgICAgICAvLyAgICAgICBgJHtwcm9jZXNzLmVudi5Qcm9qZWN0X1BhdGh9L2ltYWdlcy8ke2Fzc2V0cy5pdGVtc1tpXS5pZH1fJHthc3NldHMuaXRlbXNbaV0uZmlsZW5hbWV9YFxyXG4gICAgICAgICAgLy8gICAgIClcclxuICAgICAgICAgIC8vICAgKTtcclxuXHJcbiAgICAgICAgICAvLyAgIGxldCBjb25maWcgPSB7XHJcbiAgICAgICAgICAvLyAgICAgbWV0aG9kOiBcInBvc3RcIixcclxuICAgICAgICAgIC8vICAgICBtYXhCb2R5TGVuZ3RoOiBJbmZpbml0eSxcclxuICAgICAgICAgIC8vICAgICB1cmw6IFwiaHR0cHM6Ly9hc3NldC1hcGkucHJpc21pYy5pby9hc3NldHNcIixcclxuICAgICAgICAgIC8vICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAvLyAgICAgICByZXBvc2l0b3J5OiBwcm9jZXNzLmVudi5EZXN0aW5hdGlvbl9SZXBvLFxyXG4gICAgICAgICAgLy8gICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3Rva2VufWAsXHJcbiAgICAgICAgICAvLyAgICAgICAuLi5kYXRhLmdldEhlYWRlcnMoKSxcclxuICAgICAgICAgIC8vICAgICB9LFxyXG4gICAgICAgICAgLy8gICAgIGRhdGE6IGRhdGEsXHJcbiAgICAgICAgICAvLyAgIH07XHJcblxyXG4gICAgICAgICAgLy8gICBhd2FpdCBheGlvc1xyXG4gICAgICAgICAgLy8gICAgIC5yZXF1ZXN0KGNvbmZpZylcclxuICAgICAgICAgIC8vICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcclxuICAgICAgICAgIC8vICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlLmRhdGEpKTtcclxuICAgICAgICAgIC8vICAgICAgIG5ld0Fzc2V0cy5wdXNoKHsgLi4ucmVzcG9uc2UuZGF0YSwgcHJldklEOiBhc3NldHMuaXRlbXNbaV0uaWQgfSk7XHJcbiAgICAgICAgICAvLyAgICAgfSlcclxuICAgICAgICAgIC8vICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAvLyAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAvLyAgICAgfSk7XHJcblxyXG4gICAgICAgICAgLy93YWl0IDFzXHJcbiAgICAgICAgIGF3YWl0IGRlbGF5KDE1MDApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgbmV3QXNzZXRzIH0pO1xyXG4gICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IHJlYXNvbjogXCJzZXJ2ZXIgZXJyb3JcIiwgZXJyIH0pO1xyXG4gICAgICB9XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyByZWFzb246IFwiTm90IGFsbG93ZWRcIiB9KTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbImRvd25sb2FkQXNzZXQiLCJ1cGxvYWRBc3NldCIsImdldFRva2VuIiwiZGVsYXkiLCJ0aW1lIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwiaGFuZGxlciIsInJlcSIsInJlcyIsIm1ldGhvZCIsInRva2VuIiwibXlIZWFkZXJzIiwiSGVhZGVycyIsImFwcGVuZCIsInByb2Nlc3MiLCJlbnYiLCJTb3VyY2VfUmVwbyIsInJlcXVlc3RPcHRpb25zIiwiaGVhZGVycyIsInJlZGlyZWN0IiwiYW5zIiwiZmV0Y2giLCJhc3NldHMiLCJ0ZXh0Iiwic3RhdHVzIiwianNvbiIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJyZWFzb24iLCJib2R5IiwiaSIsIml0ZW1zIiwibGVuZ3RoIiwidXJsIiwiaWQiLCJmaWxlbmFtZSIsIm5ld0Fzc2V0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/assets.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fassets&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cassets.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();